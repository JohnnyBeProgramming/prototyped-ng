<!DOCTYPE html>
<!--[if lt IE 10]>  <html lang="en" class="no-js lt-ie-edge lt-ie-10"> <![endif]-->
<!--[if IE 10]>     <html lang="en" class="no-js lt-ie-edge"> <![endif]-->
<!--[if gt IE 10]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<head>
    <base href="/">
    <title>Prototyped</title>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <style type="text/css">
        /* Define cloak style (hides un-parsed content) */
        .ng-cloak, [ng-cloak], ng-cloak, [ng\3Acloak] {
            display: none;
        }

        /* Lets define some basic styling for our IE friends */
        body.lt-ie-10 {
            margin: 0;
            padding: 16px;
            font-size: 14px;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            background-color: white;
        }

        .lt-ie-10 .footer, .lt-ie-10 #myLoader {
            display: none;
        }

        .lt-ie-10 #preLoader.app-error {
            color: #ff0000;
            padding-left: 16px;
            margin: 0;
        }

        .browsehappy {
            margin: 0;
            padding: 16px;
            color: #808080;
            border: solid 1px silver;
            background-color: rgb(240, 240, 240);
            z-index: 4000;
        }

        /* Just to be safe, define basic styling (helps when css is still loading) */
        body {
            margin: 0;
            padding: 0;
        }

        #myApp .navbar-fixed-top ul {
            margin: 0;
            padding: 0;
            list-style: none;
        }

            #myApp .navbar-fixed-top ul li {
                padding: 0;
                list-style: none;
            }

        .sidebar ul {
            margin: 0;
            padding: 0;
            width: 100%;
            list-style: none;
            display: inline-block;
        }

        .top-hint {
            text-align: center;
        }

            .top-hint .tab {
                top: 0;
                width: 320px;
                height: 24px;
                padding: 2px 6px;
                margin-left: -160px;
                z-index: 4000;
                text-wrap: avoid;
                border-top: none;
                position: absolute;
                border-radius: 0 0 10px 10px;
                overflow: hidden;
                white-space: nowrap;
                text-overflow: ellipsis;
            }

                .top-hint .tab a {
                    color: black;
                }

        }
    </style>
    <link href="assets/favicon.png" rel="shortcut icon">
    <link href="assets/css/app.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
</head>
<body>
    <!--[if lt IE 9]><p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a target="_self" href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p><![endif]-->

    <div id="myApp" class="docked">
        <div class="navbar navbar-default navbar-fixed-top">
            <div class="navbar-inner">
                <ul class="nav navbar-nav navheading ng-cloak">
                    <li class="dock-fill">
                        <a app:clean href="" class="navbar-brand" role="button">
                            <i class="fa" ng:class="status.getIcon() + ' ' + status.getColor()"></i> <span>Prototyped</span>
                        </a>
                    </li>
                    <li class="dock-tight ng-cloak" ng:show="state.current.name != 'home'">
                        <a app:nav-link ui:sref="home" class="pull-right">
                            <i class="glyphicon glyphicon-chevron-left"></i>
                        </a>
                    </li>
                </ul>
                <span ui:view="menu" class="ng-cloak hidden-xs">
                    <!-- Begin: Default menu toolbar -->
                    <ul class="nav navbar-nav" app:menu="appMenu.items"></ul>
                    <!-- End: Default menu toolbar -->
                </span>
                <ul class="nav navbar-nav pull-right toolbar-ctrls hidden-xs">
                    <li class="ng-cloak"><a app:clean href=""><i class="glyphicon glyphicon-refresh"></i></a></li>
                    <li class="ng-cloak"><a app:debug href=""><i class="glyphicon glyphicon-wrench"></i></a></li>
                    <li class="ng-cloak"><a app:kiosk href=""><i class="glyphicon glyphicon-fullscreen"></i></a></li>
                    <li class="ng-cloak" id="btnCloseWindow">
                        <a app:close href=""><i class="glyphicon glyphicon-remove"></i></a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="docked viewport">
            <div class="sidebar ng-cloak" ui:view="left"
                 ng:class="{ 'slide-in' : true }"
                 ng:show="state.current.views['left'] || state.current.views['left@']"></div>
            <div class="contents docked" ui:view="main">

                <!-- This loader is used as a place-holder for main contents  -->
                <div id="preLoader" class="app-loading">
                    <div class="loadtext">
                        <label id="preLoaderText">Loading, please wait...</label>
                        <!--[if gt IE 9]><!-->
                        <div class="spinner">
                            <div class="rect1"></div>
                            <div class="rect2"></div>
                            <div class="rect3"></div>
                            <div class="rect4"></div>
                            <div class="rect5"></div>
                            <div class="rect7"></div>
                            <div class="rect7"></div>
                            <div class="rect8"></div>
                            <div class="rect9"></div>
                            <div class="rect10"></div>
                            <div class="rect11"></div>
                            <div class="rect12"></div>
                        </div>
                        <!--<![endif]-->
                    </div>
                </div>

            </div>
        </div>
        <div class="footer">
            <span class="pull-left">
                <label ng:show="status.logs | typeCount:'error'" class="ng-cloak">
                    <i class="glyphicon glyphicon-exclamation-sign glow-red"></i>
                    <a href="" class="ng-cloak">Errors ({{ status.logs | typeCount:'error' }})</a>
                </label>
                <label ng:show="status.logs | typeCount:'warn'">
                    <i class="glyphicon glyphicon-warning-sign glow-orange"></i>
                    <a href="" class="ng-cloak">Warnings ({{ status.logs | typeCount:'warn' }})</a>
                </label>
            </span>
            <span ng:if="true" class="ng-cloak">
                Client Version: <span app:version><em>Loading...</em></span> |
            </span>
            <span ui:view="foot">
                Powered by <a href="https://angularjs.org/">AngularJS</a> &amp; <a href="https://github.com/rogerwang/node-webkit">Node Webkit</a>
            </span>
            <span ng:if="startAt" class="ng-cloak">| Started {{ startAt | fromNow }}</span>
        </div>
    </div>

    <div id="myLoader" class="ng-cloak" ng:show="false">
        <div class="active progress progress-striped">
            <div ng:init="progC = 0.15" role="progressbar" aria-valuenow="{{ progC }}" aria-valuemin="0" aria-valuemax="100"
                 class="progress-bar" ng-class="'progress-bar-warning'"
                 ng-style="{width: (100 * progC) + '%'}" aria-valuetext="{{ (100.0 * progC) + ' %' }}%">
                <span ng:show="cgf.progress">Requests ( {{ cgf.progress.timerSteps }} / {{ cgf.progress.timerCount }} ) </span>
            </div>
            <div ng:init="progA = 0.25" role="progressbar" aria-valuenow="{{ progA }}" aria-valuemin="0" aria-valuemax="100"
                 class="progress-bar" ng-class="'progress-bar-info'"
                 ng-style="{width: (100 * progA) + '%'}" aria-valuetext="{{ (100.0 * progA) + ' %' }}%">
                <span ng:show="cgf.progress">Libraries ( {{ cgf.progress.timerSteps }} / {{ cgf.progress.timerCount }} ) </span>
            </div>
            <div ng:init="progB = 0.4" role="progressbar" aria-valuenow="{{ progB }}" aria-valuemin="0" aria-valuemax="100"
                 class="progress-bar" ng-class="'progress-bar-primary'"
                 ng-style="{width: (100 * progB) + '%'}" aria-valuetext="{{ (100.0 * progB) + ' %' }}%">
                <span ng:show="cgf.progress">Application ( {{ cgf.progress.timerSteps }} / {{ cgf.progress.timerCount }} ) </span>
            </div>
        </div>
    </div>

    <!-- Load AngularJS and all the required libraries (exclude IE < 10 from the party) -->
    <!--[if gt IE 9]><!-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/2.3.1/less.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.10/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.10/angular-route.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.10/angular-animate.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-loading-bar/0.6.0/loading-bar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.js"></script>
    <script src="https://cdn.jsdelivr.net/angular.moment/0.9.0/angular-moment.js"></script>
    <!--<![endif]-->
    <!-- build:loader ../app/assets/lib/app.loader.dll.js -->
    <script src="assets/app.loader.js"></script>
    <script src="assets/app.settings.js"></script>
    <script src="assets/lib/mousetrap.js"></script>
    <!-- endbuild -->

    <script>
        // Define the modules to load
        var modules = [
            'modules/module.ng.js',
            'modules/default.ng.js',
            'modules/about.ng.js',

            // Load the required module libraries
            'modules/prototyped/module.ng.js',
            'modules/prototyped/cmd/module.ng.js',
            'modules/sqlcmd.exe/module.ng.js',

            // Load some samples as well
            'samples/module.ng.js',
            'samples/sampleData/module.ng.js',
            'samples/decorators/module.ng.js',
            'samples/interceptors/module.ng.js',
            'samples/notifications/module.ng.js',
            'samples/compression/module.ng.js',
        ];

        // Define helper method to set error meesage
        function setMessage(message, css) {
            // Use old-school javascript in case jQuery not loaded
            var elemBody = document.getElementById('preLoader');
            if (elemBody && css) elemBody.className += ' ' + css;
            var elemLabel = document.getElementById('preLoaderText');
            if (elemLabel) elemLabel.innerHTML = '<b>Error:</b> ' + message;
        }

        // Only bootstrap if loader is available...
        var isAvailable = typeof $script !== 'undefined';
        if (isAvailable) {

            // Init the loader + add vendor libs...
            if (appConfig.init([
                'assets/lib/scsu.js',
                'assets/lib/sp.js',
            ])) {

                // Load all dependencies asynchronously.
                $script(appConfig.vend, function () {

                    // Start loading the main application files
                    appConfig.preLoad(modules);

                    // Load all of the dependencies asynchronously.
                    $script(appConfig.libs, function () {
                        appConfig.success();
                    });

                });

            } else {
                // Script loader or a required dependency missing
                setMessage('Required libraries missing!', 'app-error');
            }
        } else {
            // The current browser is not supported
            setMessage('Application failed to load!', 'app-error');
        }

    </script>
</body>
</html>
